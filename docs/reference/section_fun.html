<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Section a function and set default values in function — section_fun • doBy</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Section a function and set default values in function — section_fun"><meta property="og:description" content="Section a functions domain by fixing certain
arguments of a function call."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">doBy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.7.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/hojsgaard/doBy/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Section a function and set default values in function</h1>
    <small class="dont-index">Source: <a href="https://github.com/hojsgaard/doBy/blob/HEAD/R/functional_section_fun.R" class="external-link"><code>R/functional_section_fun.R</code></a></small>
    <div class="hidden name"><code>section_fun.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Section a functions domain by fixing certain
arguments of a function call.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_default</span><span class="op">(</span><span class="va">fun</span>, <span class="va">nms</span>, vls <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">section_fun</span><span class="op">(</span><span class="va">fun</span>, <span class="va">nms</span>, vls <span class="op">=</span> <span class="cn">NULL</span>, method <span class="op">=</span> <span class="st">"args"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">section_fun_sub</span><span class="op">(</span><span class="va">fun</span>, <span class="va">nms</span>, vls <span class="op">=</span> <span class="cn">NULL</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">section_fun_env</span><span class="op">(</span><span class="va">fun</span>, <span class="va">nms</span>, vls <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_section</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_fun</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-fun">fun<a class="anchor" aria-label="anchor" href="#arg-fun"></a></dt>
<dd><p>Function to be sectioned</p></dd>


<dt id="arg-nms">nms<a class="anchor" aria-label="anchor" href="#arg-nms"></a></dt>
<dd><p>Either a named list of the form name=value where each
name is the name of an argument of the function (in which case
<code>vls</code> is ignored) or a character vector of names of arguments.</p></dd>


<dt id="arg-vls">vls<a class="anchor" aria-label="anchor" href="#arg-vls"></a></dt>
<dd><p>A vector or list of values of the arguments</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>One of the following: 1) "args" (default); based on
substituting fixed values into the function argument list as
default values). For backward compatibility can also be "def".
2) "body" for substituting fixed values into the function
body. For backward compatibility can also be "sub". 3) "env":
(for environment); using an auxillary argument for storing
sectioned values.</p></dd>


<dt id="arg-envir">envir<a class="anchor" aria-label="anchor" href="#arg-envir"></a></dt>
<dd><p>Environment</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An object from section_fun (a scaffold object).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A new function: The input function <code>fun</code> but with certain
arguments fixed at specific values.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Let E be a subset of the cartesian product X x Y where X
and Y are some sets. Consider a function f(x,y) defined on
E. Then for any x in X, the section of E defined by x (denoted
Ex) is the set of $y$s in Y such that (x, y) is in
E. Correspondingly, the section of f(x,y) defined by x is the
function $f_x$ defined on Ex given by $f_x(y)=f(x,y)$.</p>
<p><code>section_fun</code> is a wrapper for calling <code>set_default</code> (default
method), <code>section_fun_env</code> or <code>section_fun_sub</code>. Notice that
creating a sectioned function with <code>section_fun_sub</code> can be
time consuming.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="bquote_fun_list.html">bquote_fun_list()</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Søren Højsgaard, <a href="mailto:sorenh@math.aau.dk">sorenh@math.aau.dk</a> based on code
adapted from the curry package.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f</span>  <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">{</span><span class="va">x</span> <span class="op">+</span> <span class="va">y</span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f_</span> <span class="op">&lt;-</span> <span class="fu">section_fun</span><span class="op">(</span><span class="va">f</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,    method<span class="op">=</span><span class="st">"args"</span><span class="op">)</span> <span class="co">## "def"" is default</span></span></span>
<span class="r-in"><span><span class="va">f_</span> <span class="op">&lt;-</span> <span class="fu">section_fun</span><span class="op">(</span><span class="va">f</span>, nms<span class="op">=</span><span class="st">"y"</span>, vls<span class="op">=</span><span class="fl">10</span>, method<span class="op">=</span><span class="st">"args"</span><span class="op">)</span> <span class="co">## SAME AS ABOVE</span></span></span>
<span class="r-in"><span><span class="va">f_</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function (x, y = 10) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x + y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x60f42e2350f0&gt;</span>
<span class="r-in"><span><span class="fu">f_</span><span class="op">(</span>x<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 11</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f_</span> <span class="op">&lt;-</span> <span class="fu">section_fun</span><span class="op">(</span><span class="va">f</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,    method<span class="op">=</span><span class="st">"body"</span><span class="op">)</span> <span class="co">## </span></span></span>
<span class="r-in"><span><span class="va">f_</span> <span class="op">&lt;-</span> <span class="fu">section_fun</span><span class="op">(</span><span class="va">f</span>, nms<span class="op">=</span><span class="st">"y"</span>, vls<span class="op">=</span><span class="fl">10</span>, method<span class="op">=</span><span class="st">"body"</span><span class="op">)</span> <span class="co">## SAME AS ABOVE</span></span></span>
<span class="r-in"><span><span class="va">f_</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function (x) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     y = 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x + y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x60f42e2350f0&gt;</span>
<span class="r-in"><span><span class="fu">f_</span><span class="op">(</span>x<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 11</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f_</span> <span class="op">&lt;-</span> <span class="fu">section_fun</span><span class="op">(</span><span class="va">f</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,    method<span class="op">=</span><span class="st">"env"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f_</span> <span class="op">&lt;-</span> <span class="fu">section_fun</span><span class="op">(</span><span class="va">f</span>, nms<span class="op">=</span><span class="st">"y"</span>, vls<span class="op">=</span><span class="fl">10</span>, method<span class="op">=</span><span class="st">"env"</span><span class="op">)</span> <span class="co">## SAME AS ABOVE</span></span></span>
<span class="r-in"><span><span class="va">f_</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function (x) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     . &lt;- "use get_section(function_name) to see section"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     . &lt;- "use get_fun(function_name) to see original function"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     args &lt;- arg_getter()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     do.call(fun, args)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x60f42c3b0308&gt;</span>
<span class="r-in"><span><span class="fu">f_</span><span class="op">(</span>x<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 11</span>
<span class="r-in"><span><span class="fu">get_section</span><span class="op">(</span><span class="va">f_</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">get_fun</span><span class="op">(</span><span class="va">f_</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;srcref: file "" chars 2:7 to 2:27&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x60f42e2350f0&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="co">## With more complicated values:</span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">A</span>, <span class="va">B</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">A</span> <span class="op">+</span> <span class="va">B</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">g_</span> <span class="op">&lt;-</span> <span class="fu">section_fun</span><span class="op">(</span><span class="va">g</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>A <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, nrow<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">g_</span> <span class="op">&lt;-</span> <span class="fu">section_fun</span><span class="op">(</span><span class="va">g</span>, <span class="st">"A"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, nrow<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">g_</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    2    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    2    5</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">g_</span> <span class="op">&lt;-</span> <span class="fu">section_fun</span><span class="op">(</span><span class="va">g</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>A <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, nrow<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Using built in function</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rnorm5</span> <span class="op">&lt;-</span> <span class="fu">section_fun</span><span class="op">(</span><span class="va">rnorm</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="fu">rnorm5</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.56047565 -0.23017749  1.55870831  0.07050839  0.12928774</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.56047565 -0.23017749  1.55870831  0.07050839  0.12928774</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Ulrich Halekoh, Søren Højsgaard.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

